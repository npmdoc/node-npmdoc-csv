<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://www.adaltas.com/projects/node-csv/"

    >csv (v1.1.1)</a>
</h1>
<h4>CSV parser with simple api, full of options and tested against large datasets.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv">module csv</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate">
            function <span class="apidocSignatureSpan">csv.</span>generate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.Generator">
            function <span class="apidocSignatureSpan">csv.</span>generate.Generator
            <span class="apidocSignatureSpan">(options1)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.parse">
            function <span class="apidocSignatureSpan">csv.</span>parse
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.parse.Parser">
            function <span class="apidocSignatureSpan">csv.</span>parse.Parser
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify">
            function <span class="apidocSignatureSpan">csv.</span>stringify
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify.Stringifier">
            function <span class="apidocSignatureSpan">csv.</span>stringify.Stringifier
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.transform">
            function <span class="apidocSignatureSpan">csv.</span>transform
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.transform.Transformer">
            function <span class="apidocSignatureSpan">csv.</span>transform.Transformer
            <span class="apidocSignatureSpan">(options1, transform1)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">csv.</span>generate.Generator.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">csv.</span>parse.Parser.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">csv.</span>stringify.Stringifier.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">csv.</span>transform.Transformer.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.generate">module csv.generate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.generate">
            function <span class="apidocSignatureSpan">csv.</span>generate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.Generator">
            function <span class="apidocSignatureSpan">csv.generate.</span>Generator
            <span class="apidocSignatureSpan">(options1)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.generate.Generator">module csv.generate.Generator</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.Generator.Generator">
            function <span class="apidocSignatureSpan">csv.generate.</span>Generator
            <span class="apidocSignatureSpan">(options1)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.Generator.ascii">
            function <span class="apidocSignatureSpan">csv.generate.Generator.</span>ascii
            <span class="apidocSignatureSpan">(gen)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.Generator.bool">
            function <span class="apidocSignatureSpan">csv.generate.Generator.</span>bool
            <span class="apidocSignatureSpan">(gen)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.Generator.int">
            function <span class="apidocSignatureSpan">csv.generate.Generator.</span>int
            <span class="apidocSignatureSpan">(gen)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.Generator.super_">
            function <span class="apidocSignatureSpan">csv.generate.Generator.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.generate.Generator.prototype">module csv.generate.Generator.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.Generator.prototype._read">
            function <span class="apidocSignatureSpan">csv.generate.Generator.prototype.</span>_read
            <span class="apidocSignatureSpan">(size)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.Generator.prototype.end">
            function <span class="apidocSignatureSpan">csv.generate.Generator.prototype.</span>end
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.generate.Generator.prototype.random">
            function <span class="apidocSignatureSpan">csv.generate.Generator.prototype.</span>random
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.parse">module csv.parse</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.parse.parse">
            function <span class="apidocSignatureSpan">csv.</span>parse
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.parse.Parser">
            function <span class="apidocSignatureSpan">csv.parse.</span>Parser
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.parse.Parser">module csv.parse.Parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.parse.Parser.Parser">
            function <span class="apidocSignatureSpan">csv.parse.</span>Parser
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.parse.Parser.super_">
            function <span class="apidocSignatureSpan">csv.parse.Parser.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.parse.Parser.prototype">module csv.parse.Parser.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.parse.Parser.prototype.__push">
            function <span class="apidocSignatureSpan">csv.parse.Parser.prototype.</span>__push
            <span class="apidocSignatureSpan">(line)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.parse.Parser.prototype.__write">
            function <span class="apidocSignatureSpan">csv.parse.Parser.prototype.</span>__write
            <span class="apidocSignatureSpan">(chars, end)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.parse.Parser.prototype._flush">
            function <span class="apidocSignatureSpan">csv.parse.Parser.prototype.</span>_flush
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.parse.Parser.prototype._transform">
            function <span class="apidocSignatureSpan">csv.parse.Parser.prototype.</span>_transform
            <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.stringify">module csv.stringify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify.stringify">
            function <span class="apidocSignatureSpan">csv.</span>stringify
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify.Stringifier">
            function <span class="apidocSignatureSpan">csv.stringify.</span>Stringifier
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.stringify.Stringifier">module csv.stringify.Stringifier</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify.Stringifier.Stringifier">
            function <span class="apidocSignatureSpan">csv.stringify.</span>Stringifier
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify.Stringifier.super_">
            function <span class="apidocSignatureSpan">csv.stringify.Stringifier.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.stringify.Stringifier.prototype">module csv.stringify.Stringifier.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify.Stringifier.prototype._transform">
            function <span class="apidocSignatureSpan">csv.stringify.Stringifier.prototype.</span>_transform
            <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify.Stringifier.prototype.end">
            function <span class="apidocSignatureSpan">csv.stringify.Stringifier.prototype.</span>end
            <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify.Stringifier.prototype.headers">
            function <span class="apidocSignatureSpan">csv.stringify.Stringifier.prototype.</span>headers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify.Stringifier.prototype.stringify">
            function <span class="apidocSignatureSpan">csv.stringify.Stringifier.prototype.</span>stringify
            <span class="apidocSignatureSpan">(line)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.stringify.Stringifier.prototype.write">
            function <span class="apidocSignatureSpan">csv.stringify.Stringifier.prototype.</span>write
            <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.transform">module csv.transform</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.transform.transform">
            function <span class="apidocSignatureSpan">csv.</span>transform
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.transform.Transformer">
            function <span class="apidocSignatureSpan">csv.transform.</span>Transformer
            <span class="apidocSignatureSpan">(options1, transform1)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.transform.Transformer">module csv.transform.Transformer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.transform.Transformer.Transformer">
            function <span class="apidocSignatureSpan">csv.transform.</span>Transformer
            <span class="apidocSignatureSpan">(options1, transform1)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.transform.Transformer.super_">
            function <span class="apidocSignatureSpan">csv.transform.Transformer.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.csv.transform.Transformer.prototype">module csv.transform.Transformer.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.transform.Transformer.prototype._done">
            function <span class="apidocSignatureSpan">csv.transform.Transformer.prototype.</span>_done
            <span class="apidocSignatureSpan">(err, chunks, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.transform.Transformer.prototype._flush">
            function <span class="apidocSignatureSpan">csv.transform.Transformer.prototype.</span>_flush
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.csv.transform.Transformer.prototype._transform">
            function <span class="apidocSignatureSpan">csv.transform.Transformer.prototype.</span>_transform
            <span class="apidocSignatureSpan">(chunk, encoding, cb)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv" id="apidoc.module.csv">module csv</a></h1>


    <h2>
        <a href="#apidoc.element.csv.generate" id="apidoc.element.csv.generate">
        function <span class="apidocSignatureSpan">csv.</span>generate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate = function () {
  var callback, data, generator, options;
  if (arguments.length === 2) {
    options = arguments[0];
    callback = arguments[1];
  } else if (arguments.length === 1) {
    if (typeof arguments[0] === &#x27;function&#x27;) {
      options = {};
      callback = arguments[0];
    } else {
      options = arguments[0];
    }
  } else if (arguments.length === 0) {
    options = {};
  }
  generator = new Generator(options);
  if (callback) {
    data = [];
    generator.on(&#x27;readable&#x27;, function() {
      var d, results;
      results = [];
      while (d = generator.read()) {
        results.push(data.push(options.objectMode ? d : d.toString()));
      }
      return results;
    });
    generator.on(&#x27;error&#x27;, callback);
    generator.on(&#x27;end&#x27;, function() {
      return callback(null, options.objectMode ? data : data.join(&#x27;&#x27;));
    });
  }
  return generator;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Callback example

Execute this script with the command `node samples/callback.js`.

```javascript
var csv = require(&#x27;csv&#x27;);

csv.<span class="apidocCodeKeywordSpan">generate</span>({seed: 1, columns: 2, length: 20}, function(err, data){
csv.parse(data, function(err, data){
  csv.transform(data, function(data){
    return data.map(function(value){return value.toUpperCase()});
  }, function(err, data){
    csv.stringify(data, function(err, data){
      process.stdout.write(data);
    });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.generate.Generator" id="apidoc.element.csv.generate.Generator">
        function <span class="apidocSignatureSpan">csv.</span>generate.Generator
        <span class="apidocSignatureSpan">(options1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate.Generator = function (options1) {
  var base, base1, base2, base3, base4, base5, base6, base7, base8, i, j, len, ref, v;
  this.options = options1 != null ? options1 : {};
  stream.Readable.call(this, this.options);
  this.options.count = 0;
  if ((base = this.options).duration == null) {
    base.duration = 4 * 60 * 1000;
  }
  if ((base1 = this.options).columns == null) {
    base1.columns = 8;
  }
  if ((base2 = this.options).max_word_length == null) {
    base2.max_word_length = 16;
  }
  if ((base3 = this.options).fixed_size == null) {
    base3.fixed_size = false;
  }
  if (this.fixed_size_buffer == null) {
    this.fixed_size_buffer = &#x27;&#x27;;
  }
  if ((base4 = this.options).start == null) {
    base4.start = Date.now();
  }
  if ((base5 = this.options).end == null) {
    base5.end = null;
  }
  if ((base6 = this.options).seed == null) {
    base6.seed = false;
  }
  if ((base7 = this.options).length == null) {
    base7.length = -1;
  }
  if ((base8 = this.options).delimiter == null) {
    base8.delimiter = &#x27;,&#x27;;
  }
  this.count_written = 0;
  this.count_created = 0;
  if (typeof this.options.columns === &#x27;number&#x27;) {
    this.options.columns = new Array(this.options.columns);
  }
  ref = this.options.columns;
  for (i = j = 0, len = ref.length; j &#x3c; len; i = ++j) {
    v = ref[i];
    if (v == null) {
      v = &#x27;ascii&#x27;;
    }
    if (typeof v === &#x27;string&#x27;) {
      this.options.columns[i] = Generator[v];
    }
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.parse" id="apidoc.element.csv.parse">
        function <span class="apidocSignatureSpan">csv.</span>parse
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function () {
  var callback, called, chunks, data, options, parser;
  if (arguments.length === 3) {
    data = arguments[0];
    options = arguments[1];
    callback = arguments[2];
    if (typeof callback !== &#x27;function&#x27;) {
      throw Error(&#x22;Invalid callback argument: &#x22; + (JSON.stringify(callback)));
    }
    if (!(typeof data === &#x27;string&#x27; || Buffer.isBuffer(arguments[0]))) {
      return callback(Error(&#x22;Invalid data argument: &#x22; + (JSON.stringify(data))));
    }
  } else if (arguments.length === 2) {
    if (typeof arguments[0] === &#x27;string&#x27; || Buffer.isBuffer(arguments[0])) {
      data = arguments[0];
    } else {
      options = arguments[0];
    }
    if (typeof arguments[1] === &#x27;function&#x27;) {
      callback = arguments[1];
    } else {
      options = arguments[1];
    }
  } else if (arguments.length === 1) {
    if (typeof arguments[0] === &#x27;function&#x27;) {
      callback = arguments[0];
    } else {
      options = arguments[0];
    }
  }
  if (options == null) {
    options = {};
  }
  parser = new Parser(options);
  if (data != null) {
    process.nextTick(function() {
      parser.write(data);
      return parser.end();
    });
  }
  if (callback) {
    called = false;
    chunks = options.objname ? {} : [];
    parser.on(&#x27;readable&#x27;, function() {
      var chunk, results;
      results = [];
      while (chunk = parser.read()) {
        if (options.objname) {
          results.push(chunks[chunk[0]] = chunk[1]);
        } else {
          results.push(chunks.push(chunk));
        }
      }
      return results;
    });
    parser.on(&#x27;error&#x27;, function(err) {
      called = true;
      return callback(err);
    });
    parser.on(&#x27;end&#x27;, function() {
      if (!called) {
        return callback(null, chunks);
      }
    });
  }
  return parser;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Execute this script with the command `node samples/callback.js`.

```javascript
var csv = require(&#x27;csv&#x27;);

csv.generate({seed: 1, columns: 2, length: 20}, function(err, data){
csv.<span class="apidocCodeKeywordSpan">parse</span>(data, function(err, data){
  csv.transform(data, function(data){
    return data.map(function(value){return value.toUpperCase()});
  }, function(err, data){
    csv.stringify(data, function(err, data){
      process.stdout.write(data);
    });
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.parse.Parser" id="apidoc.element.csv.parse.Parser">
        function <span class="apidocSignatureSpan">csv.</span>parse.Parser
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse.Parser = function (options) {
  var base, base1, base10, base11, base12, base13, base14, base15, base16, base2, base3, base4, base5, base6, base7, base8, base9
, k, v;
  if (options == null) {
    options = {};
  }
  options.objectMode = true;
  this.options = {};
  for (k in options) {
    v = options[k];
    this.options[k] = v;
  }
  stream.Transform.call(this, this.options);
  if ((base = this.options).rowDelimiter == null) {
    base.rowDelimiter = null;
  }
  if (typeof this.options.rowDelimiter === &#x27;string&#x27;) {
    this.options.rowDelimiter = [this.options.rowDelimiter];
  }
  if ((base1 = this.options).delimiter == null) {
    base1.delimiter = &#x27;,&#x27;;
  }
  if ((base2 = this.options).quote == null) {
    base2.quote = &#x27;&#x22;&#x27;;
  }
  if ((base3 = this.options).escape == null) {
    base3.escape = &#x27;&#x22;&#x27;;
  }
  if ((base4 = this.options).columns == null) {
    base4.columns = null;
  }
  if ((base5 = this.options).comment == null) {
    base5.comment = &#x27;&#x27;;
  }
  if ((base6 = this.options).objname == null) {
    base6.objname = false;
  }
  if ((base7 = this.options).trim == null) {
    base7.trim = false;
  }
  if ((base8 = this.options).ltrim == null) {
    base8.ltrim = false;
  }
  if ((base9 = this.options).rtrim == null) {
    base9.rtrim = false;
  }
  if ((base10 = this.options).auto_parse == null) {
    base10.auto_parse = false;
  }
  if ((base11 = this.options).auto_parse_date == null) {
    base11.auto_parse_date = false;
  }
  if ((base12 = this.options).relax == null) {
    base12.relax = false;
  }
  if ((base13 = this.options).relax_column_count == null) {
    base13.relax_column_count = false;
  }
  if ((base14 = this.options).skip_empty_lines == null) {
    base14.skip_empty_lines = false;
  }
  if ((base15 = this.options).max_limit_on_data_read == null) {
    base15.max_limit_on_data_read = 128000;
  }
  if ((base16 = this.options).skip_lines_with_empty_values == null) {
    base16.skip_lines_with_empty_values = false;
  }
  this.lines = 0;
  this.count = 0;
  this.skipped_line_count = 0;
  this.empty_line_count = 0;
  this.is_int = /^(\-|\+)?([1-9]+[0-9]*)$/;
  this.is_float = function(value) {
    return (value - parseFloat(value) + 1) &#x3e;= 0;
  };
  this._ = {};
  this._.decoder = new StringDecoder();
  this._.quoting = false;
  this._.commenting = false;
  this._.field = null;
  this._.nextChar = null;
  this._.closingQuote = 0;
  this._.line = [];
  this._.chunks = [];
  this._.rawBuf = &#x27;&#x27;;
  this._.buf = &#x27;&#x27;;
  if (this.options.rowDelimiter) {
    this._.rowDelimiterLength = Math.max.apply(Math, this.options.rowDelimiter.map(function(v) {
      return v.length;
    }));
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.stringify" id="apidoc.element.csv.stringify">
        function <span class="apidocSignatureSpan">csv.</span>stringify
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stringify = function () {
  var callback, chunks, data, options, stringifier;
  if (arguments.length === 3) {
    data = arguments[0];
    options = arguments[1];
    callback = arguments[2];
  } else if (arguments.length === 2) {
    if (Array.isArray(arguments[0])) {
      data = arguments[0];
    } else {
      options = arguments[0];
    }
    if (typeof arguments[1] === &#x27;function&#x27;) {
      callback = arguments[1];
    } else {
      options = arguments[1];
    }
  } else if (arguments.length === 1) {
    if (typeof arguments[0] === &#x27;function&#x27;) {
      callback = arguments[0];
    } else if (Array.isArray(arguments[0])) {
      data = arguments[0];
    } else {
      options = arguments[0];
    }
  }
  if (options == null) {
    options = {};
  }
  stringifier = new Stringifier(options);
  if (data) {
    process.nextTick(function() {
      var d, j, len;
      for (j = 0, len = data.length; j &#x3c; len; j++) {
        d = data[j];
        stringifier.write(d);
      }
      return stringifier.end();
    });
  }
  if (callback) {
    chunks = [];
    stringifier.on(&#x27;readable&#x27;, function() {
      var chunk, results;
      results = [];
      while (chunk = stringifier.read()) {
        results.push(chunks.push(chunk));
      }
      return results;
    });
    stringifier.on(&#x27;error&#x27;, function(err) {
      return callback(err);
    });
    stringifier.on(&#x27;end&#x27;, function() {
      return callback(null, chunks.join(&#x27;&#x27;));
    });
  }
  return stringifier;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var csv = require(&#x27;csv&#x27;);

csv.generate({seed: 1, columns: 2, length: 20}, function(err, data){
  csv.parse(data, function(err, data){
    csv.transform(data, function(data){
      return data.map(function(value){return value.toUpperCase()});
    }, function(err, data){
      csv.<span class="apidocCodeKeywordSpan">stringify</span>(data, function(err, data){
        process.stdout.write(data);
      });
    });
  });
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.stringify.Stringifier" id="apidoc.element.csv.stringify.Stringifier">
        function <span class="apidocSignatureSpan">csv.</span>stringify.Stringifier
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stringify.Stringifier = function (opts) {
  var base, base1, base10, base11, base12, base2, base3, base4, base5, base6, base7, base8, base9, k, options, v;
  if (opts == null) {
    opts = {};
  }
  options = {};
  for (k in opts) {
    v = opts[k];
    options[k] = v;
  }
  stream.Transform.call(this, options);
  this.options = options;
  if ((base = this.options).delimiter == null) {
    base.delimiter = &#x27;,&#x27;;
  }
  if ((base1 = this.options).quote == null) {
    base1.quote = &#x27;&#x22;&#x27;;
  }
  if ((base2 = this.options).quoted == null) {
    base2.quoted = false;
  }
  if ((base3 = this.options).quotedString == null) {
    base3.quotedString = false;
  }
  if ((base4 = this.options).eof == null) {
    base4.eof = true;
  }
  if ((base5 = this.options).escape == null) {
    base5.escape = &#x27;&#x22;&#x27;;
  }
  if ((base6 = this.options).columns == null) {
    base6.columns = null;
  }
  if ((base7 = this.options).header == null) {
    base7.header = false;
  }
  if ((base8 = this.options).formatters == null) {
    base8.formatters = {};
  }
  if ((base9 = this.options.formatters).date == null) {
    base9.date = function(value) {
      return &#x27;&#x27; + value.getTime();
    };
  }
  if ((base10 = this.options.formatters).bool == null) {
    base10.bool = function(value) {
      if (value) {
        return &#x27;1&#x27;;
      } else {
        return &#x27;&#x27;;
      }
    };
  }
  if ((base11 = this.options.formatters).object == null) {
    base11.object = function(value) {
      return JSON.stringify(value);
    };
  }
  if ((base12 = this.options).rowDelimiter == null) {
    base12.rowDelimiter = &#x27;\n&#x27;;
  }
  if (this.countWriten == null) {
    this.countWriten = 0;
  }
  switch (this.options.rowDelimiter) {
    case &#x27;auto&#x27;:
      this.options.rowDelimiter = null;
      break;
    case &#x27;unix&#x27;:
      this.options.rowDelimiter = &#x22;\n&#x22;;
      break;
    case &#x27;mac&#x27;:
      this.options.rowDelimiter = &#x22;\r&#x22;;
      break;
    case &#x27;windows&#x27;:
      this.options.rowDelimiter = &#x22;\r\n&#x22;;
      break;
    case &#x27;unicode&#x27;:
      this.options.rowDelimiter = &#x22;\u2028&#x22;;
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.transform" id="apidoc.element.csv.transform">
        function <span class="apidocSignatureSpan">csv.</span>transform
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">transform = function () {
  var argument, callback, data, error, handler, i, j, k, len, options, result, transform, type, v;
  options = {};
  for (i = j = 0, len = arguments.length; j &#x3c; len; i = ++j) {
    argument = arguments[i];
    type = typeof argument;
    if (argument === null) {
      type = &#x27;null&#x27;;
    } else if (type === &#x27;object&#x27; &#x26;&#x26; Array.isArray(argument)) {
      type = &#x27;array&#x27;;
    }
    if (i === 0) {
      if (type === &#x27;function&#x27;) {
        handler = argument;
      } else if (type !== null) {
        data = argument;
      }
      continue;
    }
    if (type === &#x27;object&#x27;) {
      for (k in argument) {
        v = argument[k];
        options[k] = v;
      }
    } else if (type === &#x27;function&#x27;) {
      if (handler &#x26;&#x26; i === arguments.length - 1) {
        callback = argument;
      } else {
        handler = argument;
      }
    } else if (type !== &#x27;null&#x27;) {
      throw new Error(&#x27;Invalid arguments&#x27;);
    }
  }
  transform = new Transformer(options, handler);
  error = false;
  if (data) {
    process.nextTick(function() {
      var len1, m, row;
      for (m = 0, len1 = data.length; m &#x3c; len1; m++) {
        row = data[m];
        if (error) {
          break;
        }
        transform.write(row);
      }
      return transform.end();
    });
  }
  if (callback || options.consume) {
    result = [];
    transform.on(&#x27;readable&#x27;, function() {
      var r, results;
      results = [];
      while ((r = transform.read())) {
        if (callback) {
          results.push(result.push(r));
        } else {
          results.push(void 0);
        }
      }
      return results;
    });
    transform.on(&#x27;error&#x27;, function(err) {
      error = true;
      if (callback) {
        return callback(err);
      }
    });
    transform.on(&#x27;end&#x27;, function() {
      if (callback &#x26;&#x26; !error) {
        return callback(null, result);
      }
    });
  }
  return transform;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Execute this script with the command `node samples/callback.js`.

```javascript
var csv = require(&#x27;csv&#x27;);

csv.generate({seed: 1, columns: 2, length: 20}, function(err, data){
csv.parse(data, function(err, data){
  csv.<span class="apidocCodeKeywordSpan">transform</span>(data, function(data){
    return data.map(function(value){return value.toUpperCase()});
  }, function(err, data){
    csv.stringify(data, function(err, data){
      process.stdout.write(data);
    });
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.transform.Transformer" id="apidoc.element.csv.transform.Transformer">
        function <span class="apidocSignatureSpan">csv.</span>transform.Transformer
        <span class="apidocSignatureSpan">(options1, transform1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">transform.Transformer = function (options1, transform1) {
  var base;
  this.options = options1 != null ? options1 : {};
  this.transform = transform1;
  this.options.objectMode = true;
  if ((base = this.options).parallel == null) {
    base.parallel = 100;
  }
  stream.Transform.call(this, this.options);
  this.running = 0;
  this.started = 0;
  this.finished = 0;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.generate" id="apidoc.module.csv.generate">module csv.generate</a></h1>


    <h2>
        <a href="#apidoc.element.csv.generate.generate" id="apidoc.element.csv.generate.generate">
        function <span class="apidocSignatureSpan">csv.</span>generate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generate = function () {
  var callback, data, generator, options;
  if (arguments.length === 2) {
    options = arguments[0];
    callback = arguments[1];
  } else if (arguments.length === 1) {
    if (typeof arguments[0] === &#x27;function&#x27;) {
      options = {};
      callback = arguments[0];
    } else {
      options = arguments[0];
    }
  } else if (arguments.length === 0) {
    options = {};
  }
  generator = new Generator(options);
  if (callback) {
    data = [];
    generator.on(&#x27;readable&#x27;, function() {
      var d, results;
      results = [];
      while (d = generator.read()) {
        results.push(data.push(options.objectMode ? d : d.toString()));
      }
      return results;
    });
    generator.on(&#x27;error&#x27;, callback);
    generator.on(&#x27;end&#x27;, function() {
      return callback(null, options.objectMode ? data : data.join(&#x27;&#x27;));
    });
  }
  return generator;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Callback example

Execute this script with the command `node samples/callback.js`.

```javascript
var csv = require(&#x27;csv&#x27;);

csv.<span class="apidocCodeKeywordSpan">generate</span>({seed: 1, columns: 2, length: 20}, function(err, data){
csv.parse(data, function(err, data){
  csv.transform(data, function(data){
    return data.map(function(value){return value.toUpperCase()});
  }, function(err, data){
    csv.stringify(data, function(err, data){
      process.stdout.write(data);
    });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.generate.Generator" id="apidoc.element.csv.generate.Generator">
        function <span class="apidocSignatureSpan">csv.generate.</span>Generator
        <span class="apidocSignatureSpan">(options1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Generator = function (options1) {
  var base, base1, base2, base3, base4, base5, base6, base7, base8, i, j, len, ref, v;
  this.options = options1 != null ? options1 : {};
  stream.Readable.call(this, this.options);
  this.options.count = 0;
  if ((base = this.options).duration == null) {
    base.duration = 4 * 60 * 1000;
  }
  if ((base1 = this.options).columns == null) {
    base1.columns = 8;
  }
  if ((base2 = this.options).max_word_length == null) {
    base2.max_word_length = 16;
  }
  if ((base3 = this.options).fixed_size == null) {
    base3.fixed_size = false;
  }
  if (this.fixed_size_buffer == null) {
    this.fixed_size_buffer = &#x27;&#x27;;
  }
  if ((base4 = this.options).start == null) {
    base4.start = Date.now();
  }
  if ((base5 = this.options).end == null) {
    base5.end = null;
  }
  if ((base6 = this.options).seed == null) {
    base6.seed = false;
  }
  if ((base7 = this.options).length == null) {
    base7.length = -1;
  }
  if ((base8 = this.options).delimiter == null) {
    base8.delimiter = &#x27;,&#x27;;
  }
  this.count_written = 0;
  this.count_created = 0;
  if (typeof this.options.columns === &#x27;number&#x27;) {
    this.options.columns = new Array(this.options.columns);
  }
  ref = this.options.columns;
  for (i = j = 0, len = ref.length; j &#x3c; len; i = ++j) {
    v = ref[i];
    if (v == null) {
      v = &#x27;ascii&#x27;;
    }
    if (typeof v === &#x27;string&#x27;) {
      this.options.columns[i] = Generator[v];
    }
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.generate.Generator" id="apidoc.module.csv.generate.Generator">module csv.generate.Generator</a></h1>


    <h2>
        <a href="#apidoc.element.csv.generate.Generator.Generator" id="apidoc.element.csv.generate.Generator.Generator">
        function <span class="apidocSignatureSpan">csv.generate.</span>Generator
        <span class="apidocSignatureSpan">(options1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Generator = function (options1) {
  var base, base1, base2, base3, base4, base5, base6, base7, base8, i, j, len, ref, v;
  this.options = options1 != null ? options1 : {};
  stream.Readable.call(this, this.options);
  this.options.count = 0;
  if ((base = this.options).duration == null) {
    base.duration = 4 * 60 * 1000;
  }
  if ((base1 = this.options).columns == null) {
    base1.columns = 8;
  }
  if ((base2 = this.options).max_word_length == null) {
    base2.max_word_length = 16;
  }
  if ((base3 = this.options).fixed_size == null) {
    base3.fixed_size = false;
  }
  if (this.fixed_size_buffer == null) {
    this.fixed_size_buffer = &#x27;&#x27;;
  }
  if ((base4 = this.options).start == null) {
    base4.start = Date.now();
  }
  if ((base5 = this.options).end == null) {
    base5.end = null;
  }
  if ((base6 = this.options).seed == null) {
    base6.seed = false;
  }
  if ((base7 = this.options).length == null) {
    base7.length = -1;
  }
  if ((base8 = this.options).delimiter == null) {
    base8.delimiter = &#x27;,&#x27;;
  }
  this.count_written = 0;
  this.count_created = 0;
  if (typeof this.options.columns === &#x27;number&#x27;) {
    this.options.columns = new Array(this.options.columns);
  }
  ref = this.options.columns;
  for (i = j = 0, len = ref.length; j &#x3c; len; i = ++j) {
    v = ref[i];
    if (v == null) {
      v = &#x27;ascii&#x27;;
    }
    if (typeof v === &#x27;string&#x27;) {
      this.options.columns[i] = Generator[v];
    }
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.generate.Generator.ascii" id="apidoc.element.csv.generate.Generator.ascii">
        function <span class="apidocSignatureSpan">csv.generate.Generator.</span>ascii
        <span class="apidocSignatureSpan">(gen)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ascii = function (gen) {
  var char, column, j, nb_chars, ref;
  column = [];
  for (nb_chars = j = 0, ref = Math.ceil(gen.random() * gen.options.max_word_length); 0 &#x3c;= ref ? j &#x3c; ref : j &#x3e; ref; nb_chars = 0
 &#x3c;= ref ? ++j : --j) {
    char = Math.floor(gen.random() * 32);
    column.push(String.fromCharCode(char + (char &#x3c; 16 ? 65 : 97 - 16)));
  }
  return column.join(&#x27;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.generate.Generator.bool" id="apidoc.element.csv.generate.Generator.bool">
        function <span class="apidocSignatureSpan">csv.generate.Generator.</span>bool
        <span class="apidocSignatureSpan">(gen)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bool = function (gen) {
  return Math.floor(gen.random() * 2);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.generate.Generator.int" id="apidoc.element.csv.generate.Generator.int">
        function <span class="apidocSignatureSpan">csv.generate.Generator.</span>int
        <span class="apidocSignatureSpan">(gen)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">int = function (gen) {
  return Math.floor(gen.random() * Math.pow(2, 52));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.generate.Generator.super_" id="apidoc.element.csv.generate.Generator.super_">
        function <span class="apidocSignatureSpan">csv.generate.Generator.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Readable(options) {
  if (!(this instanceof Readable))
    return new Readable(options);

  this._readableState = new ReadableState(options, this);

  // legacy
  this.readable = true;

  if (options &#x26;&#x26; typeof options.read === &#x27;function&#x27;)
    this._read = options.read;

  Stream.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.generate.Generator.prototype" id="apidoc.module.csv.generate.Generator.prototype">module csv.generate.Generator.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.csv.generate.Generator.prototype._read" id="apidoc.element.csv.generate.Generator.prototype._read">
        function <span class="apidocSignatureSpan">csv.generate.Generator.prototype.</span>_read
        <span class="apidocSignatureSpan">(size)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_read = function (size) {
  var column, data, header, j, k, l, len, len1, len2, len3, length, line, lineLength, m, ref;
  data = [];
  length = this.fixed_size_buffer.length;
  if (length) {
    data.push(this.fixed_size_buffer);
  }
  while (true) {
    if ((this.count_created === this.options.length) || (this.options.end &#x26;&#x26; Date.now() &#x3e; this.options.end)) {
      if (data.length) {
        if (this.options.objectMode) {
          for (j = 0, len = data.length; j &#x3c; len; j++) {
            line = data[j];
            this.count_written++;
            this.push(line);
          }
        } else {
          this.count_written++;
          this.push(data.join(&#x27;&#x27;));
        }
      }
      return this.push(null);
    }
    line = [];
    ref = this.options.columns;
    for (k = 0, len1 = ref.length; k &#x3c; len1; k++) {
      header = ref[k];
      line.push(&#x22;&#x22; + (header(this)));
    }
    if (this.options.objectMode) {
      lineLength = 0;
      for (l = 0, len2 = line.length; l &#x3c; len2; l++) {
        column = line[l];
        lineLength += column.length;
      }
    } else {
      line = &#x22;&#x22; + (this.count_created === 0 ? &#x27;&#x27; : &#x27;\n&#x27;) + (line.join(this.options.delimiter));
      lineLength = line.length;
    }
    this.count_created++;
    if (length + lineLength &#x3e; size) {
      if (this.options.objectMode) {
        data.push(line);
        for (m = 0, len3 = data.length; m &#x3c; len3; m++) {
          line = data[m];
          this.count_written++;
          this.push(line);
        }
      } else {
        if (this.options.fixed_size) {
          this.fixed_size_buffer = line.substr(size - length);
          data.push(line.substr(0, size - length));
        } else {
          data.push(line);
        }
        this.count_written++;
        this.push(data.join(&#x27;&#x27;));
      }
      break;
    }
    length += lineLength;
    data.push(line);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.generate.Generator.prototype.end" id="apidoc.element.csv.generate.Generator.prototype.end">
        function <span class="apidocSignatureSpan">csv.generate.Generator.prototype.</span>end
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function () {
  return this.push(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.generate.Generator.prototype.random" id="apidoc.element.csv.generate.Generator.prototype.random">
        function <span class="apidocSignatureSpan">csv.generate.Generator.prototype.</span>random
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">random = function () {
  if (this.options.seed) {
    return this.options.seed = this.options.seed * Math.PI * 100 % 100 / 100;
  } else {
    return Math.random();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.parse" id="apidoc.module.csv.parse">module csv.parse</a></h1>


    <h2>
        <a href="#apidoc.element.csv.parse.parse" id="apidoc.element.csv.parse.parse">
        function <span class="apidocSignatureSpan">csv.</span>parse
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function () {
  var callback, called, chunks, data, options, parser;
  if (arguments.length === 3) {
    data = arguments[0];
    options = arguments[1];
    callback = arguments[2];
    if (typeof callback !== &#x27;function&#x27;) {
      throw Error(&#x22;Invalid callback argument: &#x22; + (JSON.stringify(callback)));
    }
    if (!(typeof data === &#x27;string&#x27; || Buffer.isBuffer(arguments[0]))) {
      return callback(Error(&#x22;Invalid data argument: &#x22; + (JSON.stringify(data))));
    }
  } else if (arguments.length === 2) {
    if (typeof arguments[0] === &#x27;string&#x27; || Buffer.isBuffer(arguments[0])) {
      data = arguments[0];
    } else {
      options = arguments[0];
    }
    if (typeof arguments[1] === &#x27;function&#x27;) {
      callback = arguments[1];
    } else {
      options = arguments[1];
    }
  } else if (arguments.length === 1) {
    if (typeof arguments[0] === &#x27;function&#x27;) {
      callback = arguments[0];
    } else {
      options = arguments[0];
    }
  }
  if (options == null) {
    options = {};
  }
  parser = new Parser(options);
  if (data != null) {
    process.nextTick(function() {
      parser.write(data);
      return parser.end();
    });
  }
  if (callback) {
    called = false;
    chunks = options.objname ? {} : [];
    parser.on(&#x27;readable&#x27;, function() {
      var chunk, results;
      results = [];
      while (chunk = parser.read()) {
        if (options.objname) {
          results.push(chunks[chunk[0]] = chunk[1]);
        } else {
          results.push(chunks.push(chunk));
        }
      }
      return results;
    });
    parser.on(&#x27;error&#x27;, function(err) {
      called = true;
      return callback(err);
    });
    parser.on(&#x27;end&#x27;, function() {
      if (!called) {
        return callback(null, chunks);
      }
    });
  }
  return parser;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Execute this script with the command `node samples/callback.js`.

```javascript
var csv = require(&#x27;csv&#x27;);

csv.generate({seed: 1, columns: 2, length: 20}, function(err, data){
csv.<span class="apidocCodeKeywordSpan">parse</span>(data, function(err, data){
  csv.transform(data, function(data){
    return data.map(function(value){return value.toUpperCase()});
  }, function(err, data){
    csv.stringify(data, function(err, data){
      process.stdout.write(data);
    });
  });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.parse.Parser" id="apidoc.element.csv.parse.Parser">
        function <span class="apidocSignatureSpan">csv.parse.</span>Parser
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Parser = function (options) {
  var base, base1, base10, base11, base12, base13, base14, base15, base16, base2, base3, base4, base5, base6, base7, base8, base9
, k, v;
  if (options == null) {
    options = {};
  }
  options.objectMode = true;
  this.options = {};
  for (k in options) {
    v = options[k];
    this.options[k] = v;
  }
  stream.Transform.call(this, this.options);
  if ((base = this.options).rowDelimiter == null) {
    base.rowDelimiter = null;
  }
  if (typeof this.options.rowDelimiter === &#x27;string&#x27;) {
    this.options.rowDelimiter = [this.options.rowDelimiter];
  }
  if ((base1 = this.options).delimiter == null) {
    base1.delimiter = &#x27;,&#x27;;
  }
  if ((base2 = this.options).quote == null) {
    base2.quote = &#x27;&#x22;&#x27;;
  }
  if ((base3 = this.options).escape == null) {
    base3.escape = &#x27;&#x22;&#x27;;
  }
  if ((base4 = this.options).columns == null) {
    base4.columns = null;
  }
  if ((base5 = this.options).comment == null) {
    base5.comment = &#x27;&#x27;;
  }
  if ((base6 = this.options).objname == null) {
    base6.objname = false;
  }
  if ((base7 = this.options).trim == null) {
    base7.trim = false;
  }
  if ((base8 = this.options).ltrim == null) {
    base8.ltrim = false;
  }
  if ((base9 = this.options).rtrim == null) {
    base9.rtrim = false;
  }
  if ((base10 = this.options).auto_parse == null) {
    base10.auto_parse = false;
  }
  if ((base11 = this.options).auto_parse_date == null) {
    base11.auto_parse_date = false;
  }
  if ((base12 = this.options).relax == null) {
    base12.relax = false;
  }
  if ((base13 = this.options).relax_column_count == null) {
    base13.relax_column_count = false;
  }
  if ((base14 = this.options).skip_empty_lines == null) {
    base14.skip_empty_lines = false;
  }
  if ((base15 = this.options).max_limit_on_data_read == null) {
    base15.max_limit_on_data_read = 128000;
  }
  if ((base16 = this.options).skip_lines_with_empty_values == null) {
    base16.skip_lines_with_empty_values = false;
  }
  this.lines = 0;
  this.count = 0;
  this.skipped_line_count = 0;
  this.empty_line_count = 0;
  this.is_int = /^(\-|\+)?([1-9]+[0-9]*)$/;
  this.is_float = function(value) {
    return (value - parseFloat(value) + 1) &#x3e;= 0;
  };
  this._ = {};
  this._.decoder = new StringDecoder();
  this._.quoting = false;
  this._.commenting = false;
  this._.field = null;
  this._.nextChar = null;
  this._.closingQuote = 0;
  this._.line = [];
  this._.chunks = [];
  this._.rawBuf = &#x27;&#x27;;
  this._.buf = &#x27;&#x27;;
  if (this.options.rowDelimiter) {
    this._.rowDelimiterLength = Math.max.apply(Math, this.options.rowDelimiter.map(function(v) {
      return v.length;
    }));
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.parse.Parser" id="apidoc.module.csv.parse.Parser">module csv.parse.Parser</a></h1>


    <h2>
        <a href="#apidoc.element.csv.parse.Parser.Parser" id="apidoc.element.csv.parse.Parser.Parser">
        function <span class="apidocSignatureSpan">csv.parse.</span>Parser
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Parser = function (options) {
  var base, base1, base10, base11, base12, base13, base14, base15, base16, base2, base3, base4, base5, base6, base7, base8, base9
, k, v;
  if (options == null) {
    options = {};
  }
  options.objectMode = true;
  this.options = {};
  for (k in options) {
    v = options[k];
    this.options[k] = v;
  }
  stream.Transform.call(this, this.options);
  if ((base = this.options).rowDelimiter == null) {
    base.rowDelimiter = null;
  }
  if (typeof this.options.rowDelimiter === &#x27;string&#x27;) {
    this.options.rowDelimiter = [this.options.rowDelimiter];
  }
  if ((base1 = this.options).delimiter == null) {
    base1.delimiter = &#x27;,&#x27;;
  }
  if ((base2 = this.options).quote == null) {
    base2.quote = &#x27;&#x22;&#x27;;
  }
  if ((base3 = this.options).escape == null) {
    base3.escape = &#x27;&#x22;&#x27;;
  }
  if ((base4 = this.options).columns == null) {
    base4.columns = null;
  }
  if ((base5 = this.options).comment == null) {
    base5.comment = &#x27;&#x27;;
  }
  if ((base6 = this.options).objname == null) {
    base6.objname = false;
  }
  if ((base7 = this.options).trim == null) {
    base7.trim = false;
  }
  if ((base8 = this.options).ltrim == null) {
    base8.ltrim = false;
  }
  if ((base9 = this.options).rtrim == null) {
    base9.rtrim = false;
  }
  if ((base10 = this.options).auto_parse == null) {
    base10.auto_parse = false;
  }
  if ((base11 = this.options).auto_parse_date == null) {
    base11.auto_parse_date = false;
  }
  if ((base12 = this.options).relax == null) {
    base12.relax = false;
  }
  if ((base13 = this.options).relax_column_count == null) {
    base13.relax_column_count = false;
  }
  if ((base14 = this.options).skip_empty_lines == null) {
    base14.skip_empty_lines = false;
  }
  if ((base15 = this.options).max_limit_on_data_read == null) {
    base15.max_limit_on_data_read = 128000;
  }
  if ((base16 = this.options).skip_lines_with_empty_values == null) {
    base16.skip_lines_with_empty_values = false;
  }
  this.lines = 0;
  this.count = 0;
  this.skipped_line_count = 0;
  this.empty_line_count = 0;
  this.is_int = /^(\-|\+)?([1-9]+[0-9]*)$/;
  this.is_float = function(value) {
    return (value - parseFloat(value) + 1) &#x3e;= 0;
  };
  this._ = {};
  this._.decoder = new StringDecoder();
  this._.quoting = false;
  this._.commenting = false;
  this._.field = null;
  this._.nextChar = null;
  this._.closingQuote = 0;
  this._.line = [];
  this._.chunks = [];
  this._.rawBuf = &#x27;&#x27;;
  this._.buf = &#x27;&#x27;;
  if (this.options.rowDelimiter) {
    this._.rowDelimiterLength = Math.max.apply(Math, this.options.rowDelimiter.map(function(v) {
      return v.length;
    }));
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.parse.Parser.super_" id="apidoc.element.csv.parse.Parser.super_">
        function <span class="apidocSignatureSpan">csv.parse.Parser.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transform(options) {
  if (!(this instanceof Transform))
    return new Transform(options);

  Duplex.call(this, options);

  this._transformState = new TransformState(this);

  var stream = this;

  // start out asking for a readable event once data is transformed.
  this._readableState.needReadable = true;

  // we have implemented the _read method, and done the other things
  // that Readable wants before the first _read call, so unset the
  // sync guard flag.
  this._readableState.sync = false;

  if (options) {
    if (typeof options.transform === &#x27;function&#x27;)
      this._transform = options.transform;

    if (typeof options.flush === &#x27;function&#x27;)
      this._flush = options.flush;
  }

  // When the writable side finishes, then flush out anything remaining.
  this.once(&#x27;prefinish&#x27;, function() {
    if (typeof this._flush === &#x27;function&#x27;)
      this._flush(function(er) {
        done(stream, er);
      });
    else
      done(stream);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.parse.Parser.prototype" id="apidoc.module.csv.parse.Parser.prototype">module csv.parse.Parser.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.csv.parse.Parser.prototype.__push" id="apidoc.element.csv.parse.Parser.prototype.__push">
        function <span class="apidocSignatureSpan">csv.parse.Parser.prototype.</span>__push
        <span class="apidocSignatureSpan">(line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__push = function (line) {
  var field, i, j, len, lineAsColumns, rawBuf, row;
  if (this.options.skip_lines_with_empty_values &#x26;&#x26; line.join(&#x27;&#x27;).trim() === &#x27;&#x27;) {
    return;
  }
  row = null;
  if (this.options.columns === true) {
    this.options.columns = line;
    rawBuf = &#x27;&#x27;;
    return;
  } else if (typeof this.options.columns === &#x27;function&#x27;) {
    this.options.columns = this.options.columns(line);
    rawBuf = &#x27;&#x27;;
    return;
  }
  if (!this._.line_length &#x26;&#x26; line.length &#x3e; 0) {
    this._.line_length = this.options.columns ? this.options.columns.length : line.length;
  }
  if (line.length === 1 &#x26;&#x26; line[0] === &#x27;&#x27;) {
    this.empty_line_count++;
  } else if (line.length !== this._.line_length) {
    if (this.options.relax_column_count) {
      this.skipped_line_count++;
    } else if (this.options.columns != null) {
      throw Error(&#x22;Number of columns on line &#x22; + this.lines + &#x22; does not match header&#x22;);
    } else {
      throw Error(&#x22;Number of columns is inconsistent on line &#x22; + this.lines);
    }
  } else {
    this.count++;
  }
  if (this.options.columns != null) {
    lineAsColumns = {};
    for (i = j = 0, len = line.length; j &#x3c; len; i = ++j) {
      field = line[i];
      if (this.options.columns[i] === false) {
        continue;
      }
      lineAsColumns[this.options.columns[i]] = field;
    }
    if (this.options.objname) {
      row = [lineAsColumns[this.options.objname], lineAsColumns];
    } else {
      row = lineAsColumns;
    }
  } else {
    row = line;
  }
  if (this.count &#x3c; this.options.from) {
    return;
  }
  if (this.count &#x3e; this.options.to) {
    return;
  }
  if (this.options.raw) {
    this.push({
      raw: this._.rawBuf,
      row: row
    });
    return this._.rawBuf = &#x27;&#x27;;
  } else {
    return this.push(row);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.parse.Parser.prototype.__write" id="apidoc.element.csv.parse.Parser.prototype.__write">
        function <span class="apidocSignatureSpan">csv.parse.Parser.prototype.</span>__write
        <span class="apidocSignatureSpan">(chars, end)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__write = function (chars, end) {
  var areNextCharsDelimiter, areNextCharsRowDelimiters, auto_parse, char, escapeIsQuote, i, isDelimiter, isEscape, isNextCharAComment
, isQuote, isRowDelimiter, isRowDelimiterLength, is_float, is_int, l, ltrim, nextCharPos, ref, ref1, ref2, ref3, ref4, remainingBuffer
, results, rowDelimiter, rtrim, wasCommenting;
  is_int = (function(_this) {
    return function(value) {
      if (typeof _this.is_int === &#x27;function&#x27;) {
        return _this.is_int(value);
      } else {
        return _this.is_int.test(value);
      }
    };
  })(this);
  is_float = (function(_this) {
    return function(value) {
      if (typeof _this.is_float === &#x27;function&#x27;) {
        return _this.is_float(value);
      } else {
        return _this.is_float.test(value);
      }
    };
  })(this);
  auto_parse = (function(_this) {
    return function(value) {
      var m;
      if (!_this.options.auto_parse) {
        return value;
      }
      if (is_int(value)) {
        value = parseInt(value);
      } else if (is_float(value)) {
        value = parseFloat(value);
      } else if (_this.options.auto_parse_date) {
        m = Date.parse(value);
        if (!isNaN(m)) {
          value = new Date(m);
        }
      }
      return value;
    };
  })(this);
  ltrim = this.options.trim || this.options.ltrim;
  rtrim = this.options.trim || this.options.rtrim;
  chars = this._.buf + chars;
  l = chars.length;
  i = 0;
  if (this.lines === 0 &#x26;&#x26; 0xFEFF === chars.charCodeAt(0)) {
    i++;
  }
  while (i &#x3c; l) {
    if (!end) {
      remainingBuffer = chars.substr(i, l - i);
      if ((!this.options.rowDelimiter &#x26;&#x26; i + 3 &#x3e; l) || (!this._.commenting &#x26;&#x26; l - i &#x3c; this.options.comment.length &#x26;&#x26; this.options
.comment.substr(0, l - i) === remainingBuffer) || (this.options.rowDelimiter &#x26;&#x26; l - i &#x3c; this._.rowDelimiterLength &#x26;&#x26; this.options
.rowDelimiter.some(function(rd) {
        return rd.substr(0, l - i) === remainingBuffer;
      })) || (this.options.rowDelimiter &#x26;&#x26; this._.quoting &#x26;&#x26; l - i &#x3c; (this.options.quote.length + this._.rowDelimiterLength) &#x26;&#x26;
this.options.rowDelimiter.some((function(_this) {
        return function(rd) {
          return (_this.options.quote + rd).substr(0, l - i) === remainingBuffer;
        };
      })(this))) || (l - i &#x3c;= this.options.delimiter.length &#x26;&#x26; this.options.delimiter.substr(0, l - i) === remainingBuffer) || (
l - i &#x3c;= this.options.escape.length &#x26;&#x26; this.options.escape.substr(0, l - i) === remainingBuffer)) {
        break;
      }
    }
    char = this._.nextChar ? this._.nextChar : chars.charAt(i);
    this._.nextChar = l &#x3e; i + 1 ? chars.charAt(i + 1) : &#x27;&#x27;;
    if (this.options.raw) {
      this._.rawBuf += char;
    }
    if (this.options.rowDelimiter == null) {
      nextCharPos = i;
      rowDelimiter = null;
      if (!this._.quoting &#x26;&#x26; (char === &#x27;\n&#x27; || char === &#x27;\r&#x27;)) {
        rowDelimiter = char;
        nextCharPos += 1;
      } else if (!(!this._.quoting &#x26;&#x26; char === this.options.quote) &#x26;&#x26; (this._.nextChar === &#x27;\n&#x27; || this._.nextChar === &#x27;\r&#x27;)) {
        rowDelimiter = this._.nextChar;
        nextCharPos += 2;
        if (this.raw) {
          rawBuf += this._.nextChar;
        }
      }
      if (rowDelimiter) {
        if (rowDelimiter === &#x27;\r&#x27; &#x26;&#x26; chars.charAt(nextCharPos) === &#x27;\n&#x27;) {
          rowDelimiter += &#x27;\n&#x27;;
        }
        this.options.rowDelimiter = [rowDelimiter];
        this._.rowDelimiterLength = rowDelimiter.length;
      }
    }
    if (!this._.commenting &#x26;&#x26; char === this.options.escape) {
      escapeIsQuote = this.options.escape === this.options.quote;
      isEscape = this._.nextChar === this.options.escape;
      isQuote = this._.nextChar === this.options.quote;
      if (!(escapeIsQuote &#x26;&#x26; (this._.field == null) &#x26;&#x26; !this._.quoting) &#x26;&#x26; (isEscape || isQuote)) {
        i++;
        char = this._.nextChar;
        this._.nextChar = chars.charAt(i + 1);
        if (this._.field == null) {
          this._.field = &#x27;&#x27;;
        }
        this._.field += char;
        if (this.options.raw) {
          this._.rawBuf += char;
        }
        i++;
        continue;
      }
    } ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.parse.Parser.prototype._flush" id="apidoc.element.csv.parse.Parser.prototype._flush">
        function <span class="apidocSignatureSpan">csv.parse.Parser.prototype.</span>_flush
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_flush = function (callback) {
  var err, error;
  try {
    this.__write(this._.decoder.end(), true);
    if (this._.quoting) {
      this.emit(&#x27;error&#x27;, new Error(&#x22;Quoted field not terminated at line &#x22; + (this.lines + 1)));
      return;
    }
    if (this._.line.length &#x3e; 0) {
      this.__push(this._.line);
    }
    return callback();
  } catch (error) {
    err = error;
    return this.emit(&#x27;error&#x27;, err);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.parse.Parser.prototype._transform" id="apidoc.element.csv.parse.Parser.prototype._transform">
        function <span class="apidocSignatureSpan">csv.parse.Parser.prototype.</span>_transform
        <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_transform = function (chunk, encoding, callback) {
  var err, error;
  if (chunk instanceof Buffer) {
    chunk = this._.decoder.write(chunk);
  }
  try {
    this.__write(chunk, false);
    return callback();
  } catch (error) {
    err = error;
    return this.emit(&#x27;error&#x27;, err);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.stringify" id="apidoc.module.csv.stringify">module csv.stringify</a></h1>


    <h2>
        <a href="#apidoc.element.csv.stringify.stringify" id="apidoc.element.csv.stringify.stringify">
        function <span class="apidocSignatureSpan">csv.</span>stringify
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stringify = function () {
  var callback, chunks, data, options, stringifier;
  if (arguments.length === 3) {
    data = arguments[0];
    options = arguments[1];
    callback = arguments[2];
  } else if (arguments.length === 2) {
    if (Array.isArray(arguments[0])) {
      data = arguments[0];
    } else {
      options = arguments[0];
    }
    if (typeof arguments[1] === &#x27;function&#x27;) {
      callback = arguments[1];
    } else {
      options = arguments[1];
    }
  } else if (arguments.length === 1) {
    if (typeof arguments[0] === &#x27;function&#x27;) {
      callback = arguments[0];
    } else if (Array.isArray(arguments[0])) {
      data = arguments[0];
    } else {
      options = arguments[0];
    }
  }
  if (options == null) {
    options = {};
  }
  stringifier = new Stringifier(options);
  if (data) {
    process.nextTick(function() {
      var d, j, len;
      for (j = 0, len = data.length; j &#x3c; len; j++) {
        d = data[j];
        stringifier.write(d);
      }
      return stringifier.end();
    });
  }
  if (callback) {
    chunks = [];
    stringifier.on(&#x27;readable&#x27;, function() {
      var chunk, results;
      results = [];
      while (chunk = stringifier.read()) {
        results.push(chunks.push(chunk));
      }
      return results;
    });
    stringifier.on(&#x27;error&#x27;, function(err) {
      return callback(err);
    });
    stringifier.on(&#x27;end&#x27;, function() {
      return callback(null, chunks.join(&#x27;&#x27;));
    });
  }
  return stringifier;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var csv = require(&#x27;csv&#x27;);

csv.generate({seed: 1, columns: 2, length: 20}, function(err, data){
  csv.parse(data, function(err, data){
    csv.transform(data, function(data){
      return data.map(function(value){return value.toUpperCase()});
    }, function(err, data){
      csv.<span class="apidocCodeKeywordSpan">stringify</span>(data, function(err, data){
        process.stdout.write(data);
      });
    });
  });
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.stringify.Stringifier" id="apidoc.element.csv.stringify.Stringifier">
        function <span class="apidocSignatureSpan">csv.stringify.</span>Stringifier
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Stringifier = function (opts) {
  var base, base1, base10, base11, base12, base2, base3, base4, base5, base6, base7, base8, base9, k, options, v;
  if (opts == null) {
    opts = {};
  }
  options = {};
  for (k in opts) {
    v = opts[k];
    options[k] = v;
  }
  stream.Transform.call(this, options);
  this.options = options;
  if ((base = this.options).delimiter == null) {
    base.delimiter = &#x27;,&#x27;;
  }
  if ((base1 = this.options).quote == null) {
    base1.quote = &#x27;&#x22;&#x27;;
  }
  if ((base2 = this.options).quoted == null) {
    base2.quoted = false;
  }
  if ((base3 = this.options).quotedString == null) {
    base3.quotedString = false;
  }
  if ((base4 = this.options).eof == null) {
    base4.eof = true;
  }
  if ((base5 = this.options).escape == null) {
    base5.escape = &#x27;&#x22;&#x27;;
  }
  if ((base6 = this.options).columns == null) {
    base6.columns = null;
  }
  if ((base7 = this.options).header == null) {
    base7.header = false;
  }
  if ((base8 = this.options).formatters == null) {
    base8.formatters = {};
  }
  if ((base9 = this.options.formatters).date == null) {
    base9.date = function(value) {
      return &#x27;&#x27; + value.getTime();
    };
  }
  if ((base10 = this.options.formatters).bool == null) {
    base10.bool = function(value) {
      if (value) {
        return &#x27;1&#x27;;
      } else {
        return &#x27;&#x27;;
      }
    };
  }
  if ((base11 = this.options.formatters).object == null) {
    base11.object = function(value) {
      return JSON.stringify(value);
    };
  }
  if ((base12 = this.options).rowDelimiter == null) {
    base12.rowDelimiter = &#x27;\n&#x27;;
  }
  if (this.countWriten == null) {
    this.countWriten = 0;
  }
  switch (this.options.rowDelimiter) {
    case &#x27;auto&#x27;:
      this.options.rowDelimiter = null;
      break;
    case &#x27;unix&#x27;:
      this.options.rowDelimiter = &#x22;\n&#x22;;
      break;
    case &#x27;mac&#x27;:
      this.options.rowDelimiter = &#x22;\r&#x22;;
      break;
    case &#x27;windows&#x27;:
      this.options.rowDelimiter = &#x22;\r\n&#x22;;
      break;
    case &#x27;unicode&#x27;:
      this.options.rowDelimiter = &#x22;\u2028&#x22;;
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.stringify.Stringifier" id="apidoc.module.csv.stringify.Stringifier">module csv.stringify.Stringifier</a></h1>


    <h2>
        <a href="#apidoc.element.csv.stringify.Stringifier.Stringifier" id="apidoc.element.csv.stringify.Stringifier.Stringifier">
        function <span class="apidocSignatureSpan">csv.stringify.</span>Stringifier
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Stringifier = function (opts) {
  var base, base1, base10, base11, base12, base2, base3, base4, base5, base6, base7, base8, base9, k, options, v;
  if (opts == null) {
    opts = {};
  }
  options = {};
  for (k in opts) {
    v = opts[k];
    options[k] = v;
  }
  stream.Transform.call(this, options);
  this.options = options;
  if ((base = this.options).delimiter == null) {
    base.delimiter = &#x27;,&#x27;;
  }
  if ((base1 = this.options).quote == null) {
    base1.quote = &#x27;&#x22;&#x27;;
  }
  if ((base2 = this.options).quoted == null) {
    base2.quoted = false;
  }
  if ((base3 = this.options).quotedString == null) {
    base3.quotedString = false;
  }
  if ((base4 = this.options).eof == null) {
    base4.eof = true;
  }
  if ((base5 = this.options).escape == null) {
    base5.escape = &#x27;&#x22;&#x27;;
  }
  if ((base6 = this.options).columns == null) {
    base6.columns = null;
  }
  if ((base7 = this.options).header == null) {
    base7.header = false;
  }
  if ((base8 = this.options).formatters == null) {
    base8.formatters = {};
  }
  if ((base9 = this.options.formatters).date == null) {
    base9.date = function(value) {
      return &#x27;&#x27; + value.getTime();
    };
  }
  if ((base10 = this.options.formatters).bool == null) {
    base10.bool = function(value) {
      if (value) {
        return &#x27;1&#x27;;
      } else {
        return &#x27;&#x27;;
      }
    };
  }
  if ((base11 = this.options.formatters).object == null) {
    base11.object = function(value) {
      return JSON.stringify(value);
    };
  }
  if ((base12 = this.options).rowDelimiter == null) {
    base12.rowDelimiter = &#x27;\n&#x27;;
  }
  if (this.countWriten == null) {
    this.countWriten = 0;
  }
  switch (this.options.rowDelimiter) {
    case &#x27;auto&#x27;:
      this.options.rowDelimiter = null;
      break;
    case &#x27;unix&#x27;:
      this.options.rowDelimiter = &#x22;\n&#x22;;
      break;
    case &#x27;mac&#x27;:
      this.options.rowDelimiter = &#x22;\r&#x22;;
      break;
    case &#x27;windows&#x27;:
      this.options.rowDelimiter = &#x22;\r\n&#x22;;
      break;
    case &#x27;unicode&#x27;:
      this.options.rowDelimiter = &#x22;\u2028&#x22;;
  }
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.stringify.Stringifier.super_" id="apidoc.element.csv.stringify.Stringifier.super_">
        function <span class="apidocSignatureSpan">csv.stringify.Stringifier.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transform(options) {
  if (!(this instanceof Transform))
    return new Transform(options);

  Duplex.call(this, options);

  this._transformState = new TransformState(this);

  var stream = this;

  // start out asking for a readable event once data is transformed.
  this._readableState.needReadable = true;

  // we have implemented the _read method, and done the other things
  // that Readable wants before the first _read call, so unset the
  // sync guard flag.
  this._readableState.sync = false;

  if (options) {
    if (typeof options.transform === &#x27;function&#x27;)
      this._transform = options.transform;

    if (typeof options.flush === &#x27;function&#x27;)
      this._flush = options.flush;
  }

  // When the writable side finishes, then flush out anything remaining.
  this.once(&#x27;prefinish&#x27;, function() {
    if (typeof this._flush === &#x27;function&#x27;)
      this._flush(function(er) {
        done(stream, er);
      });
    else
      done(stream);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.stringify.Stringifier.prototype" id="apidoc.module.csv.stringify.Stringifier.prototype">module csv.stringify.Stringifier.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.csv.stringify.Stringifier.prototype._transform" id="apidoc.element.csv.stringify.Stringifier.prototype._transform">
        function <span class="apidocSignatureSpan">csv.stringify.Stringifier.prototype.</span>_transform
        <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_transform = function (chunk, encoding, callback) {
  this.push(chunk);
  return callback();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.stringify.Stringifier.prototype.end" id="apidoc.element.csv.stringify.Stringifier.prototype.end">
        function <span class="apidocSignatureSpan">csv.stringify.Stringifier.prototype.</span>end
        <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (chunk, encoding, callback) {
  if (this.countWriten === 0) {
    this.headers();
  }
  return stream.Transform.prototype.end.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.stringify.Stringifier.prototype.headers" id="apidoc.element.csv.stringify.Stringifier.prototype.headers">
        function <span class="apidocSignatureSpan">csv.stringify.Stringifier.prototype.</span>headers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">headers = function () {
  var k, label, labels;
  if (!this.options.header) {
    return;
  }
  if (!this.options.columns) {
    return;
  }
  labels = this.options.columns;
  if (typeof labels === &#x27;object&#x27;) {
    labels = (function() {
      var results;
      results = [];
      for (k in labels) {
        label = labels[k];
        results.push(label);
      }
      return results;
    })();
  }
  if (this.options.eof) {
    labels = this.stringify(labels) + this.options.rowDelimiter;
  } else {
    labels = this.stringify(labels);
  }
  return stream.Transform.prototype.write.call(this, labels);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.stringify.Stringifier.prototype.stringify" id="apidoc.element.csv.stringify.Stringifier.prototype.stringify">
        function <span class="apidocSignatureSpan">csv.stringify.Stringifier.prototype.</span>stringify
        <span class="apidocSignatureSpan">(line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stringify = function (line) {
  var _line, column, columns, containsEscape, containsLinebreak, containsQuote, containsdelimiter, delimiter, escape, field, i,
j, l, newLine, quote, ref, ref1, regexp, shouldQuote, value;
  if (typeof line !== &#x27;object&#x27;) {
    return line;
  }
  columns = this.options.columns;
  if (typeof columns === &#x27;object&#x27; &#x26;&#x26; columns !== null &#x26;&#x26; !Array.isArray(columns)) {
    columns = Object.keys(columns);
  }
  delimiter = this.options.delimiter;
  quote = this.options.quote;
  escape = this.options.escape;
  if (!Array.isArray(line)) {
    _line = [];
    if (columns) {
      for (i = j = 0, ref = columns.length; 0 &#x3c;= ref ? j &#x3c; ref : j &#x3e; ref; i = 0 &#x3c;= ref ? ++j : --j) {
        column = columns[i];
        value = get(line, column);
        _line[i] = typeof value === &#x27;undefined&#x27; || value === null ? &#x27;&#x27; : value;
      }
    } else {
      for (column in line) {
        _line.push(line[column]);
      }
    }
    line = _line;
    _line = null;
  } else if (columns) {
    line.splice(columns.length);
  }
  if (Array.isArray(line)) {
    newLine = &#x27;&#x27;;
    for (i = l = 0, ref1 = line.length; 0 &#x3c;= ref1 ? l &#x3c; ref1 : l &#x3e; ref1; i = 0 &#x3c;= ref1 ? ++l : --l) {
      field = line[i];
      if (typeof field === &#x27;string&#x27;) {

      } else if (typeof field === &#x27;number&#x27;) {
        field = &#x27;&#x27; + field;
      } else if (typeof field === &#x27;boolean&#x27;) {
        field = this.options.formatters.bool(field);
      } else if (field instanceof Date) {
        field = this.options.formatters.date(field);
      } else if (typeof field === &#x27;object&#x27; &#x26;&#x26; field !== null) {
        field = this.options.formatters.object(field);
      }
      if (field) {
        containsdelimiter = field.indexOf(delimiter) &#x3e;= 0;
        containsQuote = field.indexOf(quote) &#x3e;= 0;
        containsEscape = field.indexOf(escape) &#x3e;= 0 &#x26;&#x26; (escape !== quote);
        containsLinebreak = field.indexOf(&#x27;\r&#x27;) &#x3e;= 0 || field.indexOf(&#x27;\n&#x27;) &#x3e;= 0;
        shouldQuote = containsQuote || containsdelimiter || containsLinebreak || this.options.quoted || (this.options.quotedString
 &#x26;&#x26; typeof line[i] === &#x27;string&#x27;);
        if (shouldQuote &#x26;&#x26; containsEscape) {
          regexp = escape === &#x27;\\&#x27; ? new RegExp(escape + escape, &#x27;g&#x27;) : new RegExp(escape, &#x27;g&#x27;);
          field = field.replace(regexp, escape + escape);
        }
        if (containsQuote) {
          regexp = new RegExp(quote, &#x27;g&#x27;);
          field = field.replace(regexp, escape + quote);
        }
        if (shouldQuote) {
          field = quote + field + quote;
        }
        newLine += field;
      } else if (this.options.quotedEmpty || ((this.options.quotedEmpty == null) &#x26;&#x26; line[i] === &#x27;&#x27; &#x26;&#x26; this.options.quotedString)) {
        newLine += quote + quote;
      }
      if (i !== line.length - 1) {
        newLine += delimiter;
      }
    }
    line = newLine;
  }
  return line;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var csv = require(&#x27;csv&#x27;);

csv.generate({seed: 1, columns: 2, length: 20}, function(err, data){
  csv.parse(data, function(err, data){
    csv.transform(data, function(data){
      return data.map(function(value){return value.toUpperCase()});
    }, function(err, data){
      csv.<span class="apidocCodeKeywordSpan">stringify</span>(data, function(err, data){
        process.stdout.write(data);
      });
    });
  });
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.stringify.Stringifier.prototype.write" id="apidoc.element.csv.stringify.Stringifier.prototype.write">
        function <span class="apidocSignatureSpan">csv.stringify.Stringifier.prototype.</span>write
        <span class="apidocSignatureSpan">(chunk, encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (chunk, encoding, callback) {
  var base, e, error, preserve;
  if (chunk == null) {
    return;
  }
  preserve = typeof chunk !== &#x27;object&#x27;;
  if (!preserve) {
    if (this.countWriten === 0 &#x26;&#x26; !Array.isArray(chunk)) {
      if ((base = this.options).columns == null) {
        base.columns = Object.keys(chunk);
      }
    }
    try {
      this.emit(&#x27;record&#x27;, chunk, this.countWriten);
    } catch (error) {
      e = error;
      return this.emit(&#x27;error&#x27;, e);
    }
    if (this.options.eof) {
      chunk = this.stringify(chunk) + this.options.rowDelimiter;
    } else {
      chunk = this.stringify(chunk);
      if (this.options.header || this.countWriten) {
        chunk = this.options.rowDelimiter + chunk;
      }
    }
  }
  if (typeof chunk === &#x27;number&#x27;) {
    chunk = &#x22;&#x22; + chunk;
  }
  if (this.countWriten === 0) {
    this.headers();
  }
  if (!preserve) {
    this.countWriten++;
  }
  return stream.Transform.prototype.write.call(this, chunk, encoding, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

csv.generate({seed: 1, columns: 2, length: 20}, function(err, data){
  csv.parse(data, function(err, data){
    csv.transform(data, function(data){
      return data.map(function(value){return value.toUpperCase()});
    }, function(err, data){
      csv.stringify(data, function(err, data){
        process.stdout.<span class="apidocCodeKeywordSpan">write</span>(data);
      });
    });
  });
});
```

### Stream example
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.transform" id="apidoc.module.csv.transform">module csv.transform</a></h1>


    <h2>
        <a href="#apidoc.element.csv.transform.transform" id="apidoc.element.csv.transform.transform">
        function <span class="apidocSignatureSpan">csv.</span>transform
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">transform = function () {
  var argument, callback, data, error, handler, i, j, k, len, options, result, transform, type, v;
  options = {};
  for (i = j = 0, len = arguments.length; j &#x3c; len; i = ++j) {
    argument = arguments[i];
    type = typeof argument;
    if (argument === null) {
      type = &#x27;null&#x27;;
    } else if (type === &#x27;object&#x27; &#x26;&#x26; Array.isArray(argument)) {
      type = &#x27;array&#x27;;
    }
    if (i === 0) {
      if (type === &#x27;function&#x27;) {
        handler = argument;
      } else if (type !== null) {
        data = argument;
      }
      continue;
    }
    if (type === &#x27;object&#x27;) {
      for (k in argument) {
        v = argument[k];
        options[k] = v;
      }
    } else if (type === &#x27;function&#x27;) {
      if (handler &#x26;&#x26; i === arguments.length - 1) {
        callback = argument;
      } else {
        handler = argument;
      }
    } else if (type !== &#x27;null&#x27;) {
      throw new Error(&#x27;Invalid arguments&#x27;);
    }
  }
  transform = new Transformer(options, handler);
  error = false;
  if (data) {
    process.nextTick(function() {
      var len1, m, row;
      for (m = 0, len1 = data.length; m &#x3c; len1; m++) {
        row = data[m];
        if (error) {
          break;
        }
        transform.write(row);
      }
      return transform.end();
    });
  }
  if (callback || options.consume) {
    result = [];
    transform.on(&#x27;readable&#x27;, function() {
      var r, results;
      results = [];
      while ((r = transform.read())) {
        if (callback) {
          results.push(result.push(r));
        } else {
          results.push(void 0);
        }
      }
      return results;
    });
    transform.on(&#x27;error&#x27;, function(err) {
      error = true;
      if (callback) {
        return callback(err);
      }
    });
    transform.on(&#x27;end&#x27;, function() {
      if (callback &#x26;&#x26; !error) {
        return callback(null, result);
      }
    });
  }
  return transform;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Execute this script with the command `node samples/callback.js`.

```javascript
var csv = require(&#x27;csv&#x27;);

csv.generate({seed: 1, columns: 2, length: 20}, function(err, data){
csv.parse(data, function(err, data){
  csv.<span class="apidocCodeKeywordSpan">transform</span>(data, function(data){
    return data.map(function(value){return value.toUpperCase()});
  }, function(err, data){
    csv.stringify(data, function(err, data){
      process.stdout.write(data);
    });
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.transform.Transformer" id="apidoc.element.csv.transform.Transformer">
        function <span class="apidocSignatureSpan">csv.transform.</span>Transformer
        <span class="apidocSignatureSpan">(options1, transform1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Transformer = function (options1, transform1) {
  var base;
  this.options = options1 != null ? options1 : {};
  this.transform = transform1;
  this.options.objectMode = true;
  if ((base = this.options).parallel == null) {
    base.parallel = 100;
  }
  stream.Transform.call(this, this.options);
  this.running = 0;
  this.started = 0;
  this.finished = 0;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.transform.Transformer" id="apidoc.module.csv.transform.Transformer">module csv.transform.Transformer</a></h1>


    <h2>
        <a href="#apidoc.element.csv.transform.Transformer.Transformer" id="apidoc.element.csv.transform.Transformer.Transformer">
        function <span class="apidocSignatureSpan">csv.transform.</span>Transformer
        <span class="apidocSignatureSpan">(options1, transform1)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Transformer = function (options1, transform1) {
  var base;
  this.options = options1 != null ? options1 : {};
  this.transform = transform1;
  this.options.objectMode = true;
  if ((base = this.options).parallel == null) {
    base.parallel = 100;
  }
  stream.Transform.call(this, this.options);
  this.running = 0;
  this.started = 0;
  this.finished = 0;
  return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.transform.Transformer.super_" id="apidoc.element.csv.transform.Transformer.super_">
        function <span class="apidocSignatureSpan">csv.transform.Transformer.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transform(options) {
  if (!(this instanceof Transform))
    return new Transform(options);

  Duplex.call(this, options);

  this._transformState = new TransformState(this);

  var stream = this;

  // start out asking for a readable event once data is transformed.
  this._readableState.needReadable = true;

  // we have implemented the _read method, and done the other things
  // that Readable wants before the first _read call, so unset the
  // sync guard flag.
  this._readableState.sync = false;

  if (options) {
    if (typeof options.transform === &#x27;function&#x27;)
      this._transform = options.transform;

    if (typeof options.flush === &#x27;function&#x27;)
      this._flush = options.flush;
  }

  // When the writable side finishes, then flush out anything remaining.
  this.once(&#x27;prefinish&#x27;, function() {
    if (typeof this._flush === &#x27;function&#x27;)
      this._flush(function(er) {
        done(stream, er);
      });
    else
      done(stream);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.csv.transform.Transformer.prototype" id="apidoc.module.csv.transform.Transformer.prototype">module csv.transform.Transformer.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.csv.transform.Transformer.prototype._done" id="apidoc.element.csv.transform.Transformer.prototype._done">
        function <span class="apidocSignatureSpan">csv.transform.Transformer.prototype.</span>_done
        <span class="apidocSignatureSpan">(err, chunks, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_done = function (err, chunks, cb) {
  var chunk, j, len;
  this.running--;
  if (err) {
    return this.emit(&#x27;error&#x27;, err);
  }
  this.finished++;
  for (j = 0, len = chunks.length; j &#x3c; len; j++) {
    chunk = chunks[j];
    if (typeof chunk === &#x27;number&#x27;) {
      chunk = &#x22;&#x22; + chunk;
    }
    if (chunk != null) {
      this.push(chunk);
    }
  }
  if (cb) {
    cb();
  }
  if (this._ending) {
    return this._ending();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.transform.Transformer.prototype._flush" id="apidoc.element.csv.transform.Transformer.prototype._flush">
        function <span class="apidocSignatureSpan">csv.transform.Transformer.prototype.</span>_flush
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_flush = function (cb) {
  this._ending = function() {
    if (this.running === 0) {
      return cb();
    }
  };
  return this._ending();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.csv.transform.Transformer.prototype._transform" id="apidoc.element.csv.transform.Transformer.prototype._transform">
        function <span class="apidocSignatureSpan">csv.transform.Transformer.prototype.</span>_transform
        <span class="apidocSignatureSpan">(chunk, encoding, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_transform = function (chunk, encoding, cb) {
  var callback, err, l;
  this.started++;
  this.running++;
  if (this.running &#x3c; this.options.parallel) {
    cb();
    cb = null;
  }
  try {
    l = this.transform.length;
    if (this.options.params != null) {
      l--;
    }
    if (l === 1) {
      this._done(null, [this.transform.call(null, chunk, this.options.params)], cb);
    } else if (l === 2) {
      callback = (function(_this) {
        return function() {
          var chunks, err;
          err = arguments[0], chunks = 2 &#x3c;= arguments.length ? slice.call(arguments, 1) : [];
          return _this._done(err, chunks, cb);
        };
      })(this);
      this.transform.call(null, chunk, callback, this.options.params);
    } else {
      throw Error(&#x22;Invalid handler arguments&#x22;);
    }
    return false;
  } catch (_error) {
    err = _error;
    return this._done(err);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
